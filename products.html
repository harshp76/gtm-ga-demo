<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - ShopDemo</title>
    <link rel="stylesheet" href="assets/css/style.css">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TN8LZMQK');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TN8LZMQK"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">ShopDemo</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html" class="active">Products</a></li>
                <li><a href="cart.html" class="cart-icon">
                    Cart ðŸ›’ <span class="cart-count" id="cartCount">0</span>
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Products Page Content -->
    <main class="main-content">
        <div class="container">
            <div class="page-header">
                <h1>All Products</h1>
                <p>Discover our complete range of amazing products</p>
            </div>
            
            <div class="product-grid" id="productGrid">
                <!-- Products will be loaded here -->
                <div class="product-card">
                    <div class="product-image">Wireless Headphones Image</div>
                    <h3 class="product-title">Wireless Headphones</h3>
                    <p class="product-price">â‚¹2,999</p>
                    <p class="product-description">High-quality wireless headphones with noise cancellation feature.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(1)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(1)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Smart Watch Image</div>
                    <h3 class="product-title">Smart Watch</h3>
                    <p class="product-price">â‚¹8,999</p>
                    <p class="product-description">Feature-rich smartwatch with health monitoring and GPS tracking.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(2)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(2)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Laptop Stand Image</div>
                    <h3 class="product-title">Laptop Stand</h3>
                    <p class="product-price">â‚¹1,499</p>
                    <p class="product-description">Ergonomic laptop stand for better posture and workspace organization.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(3)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(3)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">USB-C Hub Image</div>
                    <h3 class="product-title">USB-C Hub</h3>
                    <p class="product-price">â‚¹2,499</p>
                    <p class="product-description">Multi-port USB-C hub with fast charging and connectivity options.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(4)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(4)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Bluetooth Speaker Image</div>
                    <h3 class="product-title">Bluetooth Speaker</h3>
                    <p class="product-price">â‚¹3,999</p>
                    <p class="product-description">Portable Bluetooth speaker with rich bass and crystal clear sound.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(5)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(5)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Phone Case Image</div>
                    <h3 class="product-title">Phone Case</h3>
                    <p class="product-price">â‚¹799</p>
                    <p class="product-description">Protective phone case with elegant design and drop protection.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(6)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(6)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Wireless Mouse Image</div>
                    <h3 class="product-title">Wireless Mouse</h3>
                    <p class="product-price">â‚¹1,299</p>
                    <p class="product-description">Ergonomic wireless mouse with precision tracking and long battery life.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(7)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(7)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Power Bank Image</div>
                    <h3 class="product-title">Power Bank</h3>
                    <p class="product-price">â‚¹1,999</p>
                    <p class="product-description">High-capacity power bank with fast charging support (20000mAh).</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(8)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(8)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Desk Organizer Image</div>
                    <h3 class="product-title">Desk Organizer</h3>
                    <p class="product-price">â‚¹899</p>
                    <p class="product-description">Wooden desk organizer to keep your workspace tidy and organized.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(9)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(9)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">LED Desk Lamp Image</div>
                    <h3 class="product-title">LED Desk Lamp</h3>
                    <p class="product-price">â‚¹2,299</p>
                    <p class="product-description">Adjustable LED desk lamp with multiple brightness levels.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(10)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(10)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Wireless Earbuds Image</div>
                    <h3 class="product-title">Wireless Earbuds</h3>
                    <p class="product-price">â‚¹4,999</p>
                    <p class="product-description">True wireless earbuds with active noise cancellation.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(11)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(11)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">Keyboard Cover Image</div>
                    <h3 class="product-title">Keyboard Cover</h3>
                    <p class="product-price">â‚¹599</p>
                    <p class="product-description">Silicone keyboard cover to protect from dust and spills.</p>
                    <div class="product-actions">
                        <button class="btn" onclick="viewProduct(12)">View Details</button>
                        <button class="btn btn-secondary" onclick="addToCart(12)" style="margin-left: 10px;">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="container">
            <h2>Subscribe to Our Newsletter</h2>
            <p>Get the latest updates on new products and exclusive offers!</p>
            <form class="newsletter-form" id="newsletterForm">
                <input type="email" placeholder="Enter your email" required id="newsletterEmail">
                <button type="submit" class="btn">Subscribe</button>
            </form>
        </div>
    </section>

    <!-- Embedded Product Data -->
    <script>
        // Embed products directly to avoid loading issues
        window.products = [
            { id: 1, name: "Wireless Headphones", price: 2999, description: "High-quality wireless headphones with noise cancellation feature.", category: "Electronics" },
            { id: 2, name: "Smart Watch", price: 8999, description: "Feature-rich smartwatch with health monitoring and GPS tracking.", category: "Electronics" },
            { id: 3, name: "Laptop Stand", price: 1499, description: "Ergonomic laptop stand for better posture and workspace organization.", category: "Accessories" },
            { id: 4, name: "USB-C Hub", price: 2499, description: "Multi-port USB-C hub with fast charging and connectivity options.", category: "Electronics" },
            { id: 5, name: "Bluetooth Speaker", price: 3999, description: "Portable Bluetooth speaker with rich bass and crystal clear sound.", category: "Electronics" },
            { id: 6, name: "Phone Case", price: 799, description: "Protective phone case with elegant design and drop protection.", category: "Accessories" },
            { id: 7, name: "Wireless Mouse", price: 1299, description: "Ergonomic wireless mouse with precision tracking and long battery life.", category: "Electronics" },
            { id: 8, name: "Power Bank", price: 1999, description: "High-capacity power bank with fast charging support (20000mAh).", category: "Electronics" },
            { id: 9, name: "Desk Organizer", price: 899, description: "Wooden desk organizer to keep your workspace tidy and organized.", category: "Accessories" },
            { id: 10, name: "LED Desk Lamp", price: 2299, description: "Adjustable LED desk lamp with multiple brightness levels.", category: "Accessories" },
            { id: 11, name: "Wireless Earbuds", price: 4999, description: "True wireless earbuds with active noise cancellation.", category: "Electronics" },
            { id: 12, name: "Keyboard Cover", price: 599, description: "Silicone keyboard cover to protect from dust and spills.", category: "Accessories" }
        ];
        
        // Initialize cart from localStorage
        window.cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Update cart count
        function updateCartCount() {
            const totalItems = window.cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }
        
        // Add to cart function
        function addToCart(productId) {
            const product = window.products.find(p => p.id === productId);
            if (!product) return;
            
            const existingItem = window.cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                window.cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(window.cart));
            updateCartCount();
            alert(product.name + ' added to cart!');
            
            // GTM Event
            if (typeof fireAddToCartEvent === 'function') {
                fireAddToCartEvent(product, 1);
            }
        }
        
        // View product function
        function viewProduct(productId) {
            const product = window.products.find(p => p.id === productId);
            if (product && typeof fireSelectItemEvent === 'function') {
                fireSelectItemEvent(product, 'All Products', 'product_listing');
            }
            window.location.href = 'product-details.html?id=' + productId;
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            
            // Fire GTM view_item_list event
            if (typeof fireViewItemListEvent === 'function') {
                fireViewItemListEvent(window.products, 'All Products', 'product_listing');
            }
            
            // Newsletter form
            document.getElementById('newsletterForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('newsletterEmail').value;
                alert('Thank you for subscribing with email: ' + email);
                document.getElementById('newsletterEmail').value = '';
            });
        });
    </script>

    <!-- JavaScript Files -->
    <script src="assets/js/gtm-events.js"></script>
</body>
</html>
